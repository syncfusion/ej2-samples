{"index.html":"<html><head><link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\">\n<div class=\"col-lg-12 control-section\">\n    <div class=\"e-sample-resize-container\" id=\"dialog_target\">\n        <div id=\"alertDialog\"></div>\n        <div id=\"tab_wizard\"> </div>\n        <div id=\"booking\" style=\"display:none;\">\n            <div class=\"wizard-title\">Plan your journey</div>\n            <div class=\"responsive-align\">\n                <div class=\"row\">\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"startPoint\" class=\"e-input\" type=\"text\">\n                    </div>\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"endPoint\" class=\"e-input\" type=\"text\">\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"journey_date\" class=\"e-input\" type=\"text\">\n                    </div>\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"ticket_type\" class=\"e-input\" type=\"text\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"btn-container\">\n                <button id=\"searchNext\" class=\"e-btn\">Search Train</button>\n            </div>\n\n            <span id=\"err1\"></span>\n        </div>\n    </div>\n    <div id=\"selectTrain\" style=\"display:none;\">\n        <div class=\"wizard-title\">Select the train from the list </div>\n        <div id=\"availableTrain\"></div>\n        <br>\n        <div class=\"btn-container\">\n            <button id=\"goToSearch\" class=\"e-btn\">Back</button>\n            <button id=\"bookTickets\" class=\"e-btn\">Continue</button>\n        </div>\n        <span id=\"err2\"></span>\n    </div>\n    <div id=\"details\" style=\"display:none;\">\n        <div class=\"details-page wizard-title\">Enter the passenger details</div>\n        <div id=\"PassengersList\">\n            <table id=\"passenger-table\">\n                <colgroup>\n                    <col>\n                    <col>\n                    <col>\n                    <col>\n                    <col>\n                    <col>\n                </colgroup>\n                <thead>\n                    <tr>\n                        <th class=\"name-header\">Name</th>\n                        <th class=\"age-header\">Age</th>\n                        <th class=\"gender-header\">Gender</th>\n                        <th class=\"type-header\">Berth Preference</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>\n                            <input id=\"pass_name1\" class=\"e-input\" type=\"text\" placeholder=\"Passenger Name\">\n                        </td>\n                        <td>\n                            <input id=\"pass_age1\" class=\"e-input\">\n                        </td>\n                        <td>\n                            <input id=\"pass_gender1\" type=\"text\">\n                        </td>\n                        <td>\n                            <input id=\"pass_berth1\" type=\"text\">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <input id=\"pass_name2\" class=\"e-input\" type=\"text\" placeholder=\"Passenger Name\">\n                        </td>\n                        <td>\n                            <input id=\"pass_age2\" class=\"e-input\">\n                        </td>\n                        <td>\n                            <input id=\"pass_gender2\" type=\"text\">\n                        </td>\n                        <td>\n                            <input id=\"pass_berth2\" type=\"text\">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <input id=\"pass_name3\" class=\"e-input\" type=\"text\" placeholder=\"Passenger Name\">\n                        </td>\n                        <td>\n                            <input id=\"pass_age3\" class=\"e-input\">\n                        </td>\n                        <td>\n                            <input id=\"pass_gender3\" type=\"text\">\n                        </td>\n                        <td>\n                            <input id=\"pass_berth3\" type=\"text\">\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <br>\n        <div class=\"btn-container\">\n            <button id=\"goBackToBook\" class=\"e-btn\">Back</button>\n            <button id=\"confirmTickets\" class=\"e-btn\">Continue</button>\n        </div>\n        <span id=\"err3\"></span>\n    </div>\n    <div id=\"confirm\" style=\"display:none;\">\n        <div class=\"tab-title1 wizard-title\">Confirm the details and proceed</div>\n        <div id=\"ticketDetailGrid\"></div>\n        <div id=\"amount\"></div>\n        <br>\n        <div class=\"btn-container\">\n            <button id=\"goBackDetails\" class=\"e-btn\">Back</button>\n            <button id=\"makePayment\" class=\"e-btn\">Pay</button>\n        </div>\n    </div>\n</div>\n\n\n<style>\n    .e-content .e-item {\n        font-size: 12px;\n        margin: 10px;\n    }\n    #amount {\n        text-align: right;\n        font-size: 15px;\n        padding: 15px 0px;\n    }\n    #passenger-table th {\n        text-align: center;\n        font-size: 14px;\n        font-weight: 400;\n        border: 1px solid gainsboro;\n    }\n    #passenger-table td, th {\n        padding: 10px;\n    }\n    #passenger-table td {\n        border: 1px solid gainsboro;\n    }\n    .name-header {\n        width: 200px;\n    }\n    .age-header {\n        width: 80px;\n    }\n    .gender-header {\n        width: 120px;\n    }\n    .type-header {\n        width: 150px;\n    }\n    .btn-container {\n        text-align: center;\n    }\n    .search-item {\n        padding-right: 50px;\n        padding-bottom: 20px;\n    }\n    .item-title {\n        font-weight: 500;\n        padding-top: 10px;\n    }\n    @media (max-width: 450px) {\n\n        .responsive-align {\n            width: 75%;\n            margin: 0 auto;\n        }\n        .search-item {\n            padding: 0 0 20px 0;\n            width: 100%;\n        }\n    }\n    #err1,\n    #err2,\n    #err3 {\n        font-weight: bold;\n        color: red;\n        display: block;\n        margin-top: 15px;\n    }\n    .wizard-title {\n        font-size: 15px;\n    }\n    #PassengersList {\n        overflow: auto;\n    }\n    #passenger-table {\n        min-width: 500px;\n        width: 100%;\n    }\n</style>\n\n</div></body></html>","index.ts":"{{ripple}}\n/**\n *  Tab Wizard sample\n */\n// tslint:disable:max-line-length\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab, SelectEventArgs } from '@syncfusion/ej2-navigations';\nimport { DatePicker } from '@syncfusion/ej2-calendars';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { Grid, RowSelectEventArgs } from '@syncfusion/ej2-grids';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\n\nlet tabObj: Tab;\nlet availTrainGrid: Grid;\nlet ticketDetailGrid: Grid;\nlet endPoint: DropDownList;\nlet journeyDate: DatePicker;\nlet ticketType: DropDownList;\nlet startPoint: DropDownList;\nlet alertDlg: Dialog;\nlet today : Date = new Date();\nlet locations: any;\nlet selectedTrain: any;\n\nlet quota: any = [\n    { id: '1', text: 'Business Class' },\n    { id: '2', text: 'Economy Class' },\n    { id: '3', text: 'Common Class' }\n];\nlet gender: any = [\n   { id: '1', text: 'Male' },\n   { id: '2', text: 'Female' }\n];\nlet berths: any = [\n   { id: '1', text: 'Upper' },\n   { id: '2', text: 'Lower' },\n   { id: '3', text: 'Middle' },\n   { id: '4', text: 'Window' },\n   { id: '5', text: 'Aisle' }\n];\nlet cities: any = [\n    {name: 'Chicago', fare: 300} ,\n    {name: 'San Francisco', fare: 125 },\n    {name: 'Los Angeles', fare: 175 },\n    {name: 'Seattle', fare: 250},\n    {name: 'Florida', fare: 150}\n];\n\nfunction renderComponents(): void {\n    /* Initialize Tab with disabled headers for the wizard */\n    tabObj = new Tab({ heightAdjustMode: 'None', height: 390, showCloseButton: false,\n        selecting: tabSelecting,\n        items: [\n            { header: { 'text': 'New Booking' }, content: '#booking' },\n            { header: { 'text': 'Train List' }, content: '#selectTrain', disabled: true },\n            { header: { 'text': 'Add Passenger' }, content: '#details', disabled: true },\n            { header: { 'text': 'Make Payment' }, content: '#confirm', disabled: true }\n        ]\n    });\n    tabObj.appendTo('#tab_wizard');\n    /* Initialize the components for creating wizard */\n    startPoint = new DropDownList({\n        width: '100%', dataSource: cities, floatLabelType: 'Auto', placeholder: 'From',\n        fields: { text: 'name', value: 'name' }\n    });\n    startPoint.appendTo('#startPoint');\n    endPoint = new DropDownList({\n        width: '100%', dataSource: cities, floatLabelType: 'Auto', placeholder: 'To',\n        fields: { text: 'name', value: 'name' }\n    });\n    endPoint.appendTo('#endPoint');\n    journeyDate = new DatePicker({\n        width: '100%', floatLabelType: 'Auto', placeholder: 'Journey Date', min: new Date(today.getTime()),\n        max: new Date(today.getTime() + 60 * 24 * 60 * 60 * 1000),\n        value: new Date(),\n    });\n    journeyDate.appendTo('#journey_date');\n    ticketType = new DropDownList({\n        dataSource: quota, placeholder: 'Ticket Type', floatLabelType: 'Auto', fields: { text: 'text', value: 'text' }\n    });\n    ticketType.appendTo('#ticket_type');\n    alertDlg = new Dialog({\n        header: 'Success', width: 250, isModal: true, visible: false, showCloseIcon: true,\n        content: 'Your payment successfully processed',  target: document.getElementById('dialog_target'), created: dlgCreated\n    });\n    alertDlg.appendTo('#alertDialog');\n    alertDlg.hide();\n    availTrainGrid = new Grid({\n        width: '100%',\n        columns: [\n            { field: 'TrainNo', headerText: 'Train No', width: 120, type: 'number' },\n            { field: 'Name', width: 140, headerText: 'Name' },\n            { field: 'Departure', headerText: 'Departure', width: 120 },\n            { field: 'Arrival', headerText: 'Arrival', width: 140 },\n            { field: 'Availability', headerText: 'Availability', width: 140, type: 'number' }\n        ],\n        rowSelected: trainSelected\n    });\n    availTrainGrid.appendTo('#availableTrain');\n    let age1: NumericTextBox = new NumericTextBox({ min: 1, max: 100, value: 18, format: 'n0', showSpinButton: false });\n    age1.appendTo('#pass_age1');\n    let age2: NumericTextBox = new NumericTextBox({ min: 1, max: 100, value: 18, format: 'n0', showSpinButton: false });\n    age2.appendTo('#pass_age2');\n    let age3: NumericTextBox = new NumericTextBox({ min: 1, max: 100, value: 18, format: 'n0', showSpinButton: false });\n    age3.appendTo('#pass_age3');\n    let gender1: DropDownList = new DropDownList({\n        dataSource: gender, text: 'Male', fields: { text: 'text', value: 'text' }\n    });\n    gender1.appendTo('#pass_gender1');\n    let gender2: DropDownList = new DropDownList({\n        dataSource: gender, text: 'Male', fields: { text: 'text', value: 'text' }\n    });\n    gender2.appendTo('#pass_gender2');\n    let gender3: DropDownList = new DropDownList({\n        dataSource: gender, text: 'Male', fields: { text: 'text', value: 'text' }\n    });\n    gender3.appendTo('#pass_gender3');\n    let berth1: DropDownList = new DropDownList({\n        dataSource: berths, placeholder: 'Optional', fields: { text: 'text', value: 'text' }\n    });\n    berth1.appendTo('#pass_berth1');\n    let berth2: DropDownList = new DropDownList({\n        dataSource: berths, placeholder: 'Optional', fields: { text: 'text', value: 'text' }\n    });\n    berth2.appendTo('#pass_berth2');\n    let berth3: DropDownList = new DropDownList({\n        dataSource: berths, placeholder: 'Optional', fields: { text: 'text', value: 'text' }\n    });\n    berth3.appendTo('#pass_berth3');\n    ticketDetailGrid = new Grid({\n        width: '100%',\n        columns: [\n            { field: 'TrainNo', headerText: 'Train No', width: 120, type: 'number' },\n            { field: 'PassName', width: 140, headerText: 'Name' },\n            { field: 'Gender', headerText: 'Gender', width: 120 },\n            { field: 'Berth', headerText: 'Berth', width: 140 }\n        ],\n    });\n    ticketDetailGrid.appendTo('#ticketDetailGrid');\n    document.getElementById('searchNext').onclick = (e: any) => { tabNavigations(e); };\n    document.getElementById('bookTickets').onclick = (e: any) => { tabNavigations(e); };\n    document.getElementById('confirmTickets').onclick = (e: any) => { tabNavigations(e); };\n    document.getElementById('makePayment').onclick = (e: any) => { tabNavigations(e); };\n    document.getElementById('goToSearch').onclick = (e: any) => { tabNavigations(e); };\n    document.getElementById('goBackToBook').onclick = (e: any) => { tabNavigations(e); };\n    document.getElementById('goBackDetails').onclick = (e: any) => { tabNavigations(e); };\n}\nfunction tabSelecting(e: SelectEventArgs): void {\n    if (e.isSwiped) {\n        e.cancel = true;\n    }\n}\nfunction dlgCreated(): void {\n  alertDlg.buttons = [{\n    buttonModel: { content: 'Ok', isPrimary: true },\n      click: (() => {\n        alertDlg.hide();\n        tabObj.enableTab(0, true);\n        tabObj.enableTab(1, false);\n        tabObj.enableTab(2, false);\n        tabObj.enableTab(3, false);\n        tabObj.select(0);\n      })\n  }];\n}\nfunction tabNavigations(args: any): void {\n    switch (args.target.id) {\n        case 'searchNext':\n        /* Validate the Source, Destination, Date and Class chosen and proceed only if all the fields are selected */\n            if (!isNOU(startPoint.value) && !isNOU(endPoint.value) &&\n                !isNOU(ticketType.value) && !isNOU(journeyDate.value)) {\n                if (!isNOU(startPoint.value) && startPoint.value === endPoint.value) {\n                    document.getElementById('err1').innerText = '* Arrival point can\\'t be same as Departure';\n                } else {\n                    tabObj.enableTab(1, true);\n                    tabObj.enableTab(0, false);\n                    filterTrains(args);\n                    document.getElementById('err1').innerText = '';\n                    document.getElementById('err2').innerText = '';\n                }\n            } else {\n                document.getElementById('err1').innerText = '* Please fill all the details before proceeding';\n            }\n            break;\n        case 'bookTickets':\n        /* Based on the selected station generate Grid content to display trains available */\n            if (availTrainGrid.getSelectedRecords() === undefined || availTrainGrid.getSelectedRecords().length === 0) {\n                document.getElementById('err2').innerText = '* Select your convenient train';\n            } else {\n                tabObj.enableTab(2, true);\n                tabObj.enableTab(1, false);\n                document.getElementById('err2').innerText = '';\n            }\n            break;\n        case 'confirmTickets':\n        /* Get the Passenger details and validate the fields must not be left empty */\n            let name: any = document.getElementById('pass_name1');\n            let age: any = document.getElementById('pass_age1');\n            let gender: any = document.getElementById('pass_gender1');\n            if (name.value === '' || age.value === '' || gender.value === '') {\n                document.getElementById('err3').innerText = '* Please enter passenger details';\n            } else {\n                tabObj.enableTab(3, true);\n                tabObj.enableTab(2, false);\n                document.getElementById('err3').innerText = '';\n                finalizeDetails(args);\n            }\n            break;\n        case 'makePayment':\n            alertDlg.show();\n            break;\n        case 'goToSearch':\n        /* Go back to change class, date or boarding places */\n            selectedTrain = [];\n            tabObj.enableTab(0, true);\n            tabObj.select(0);\n            tabObj.enableTab(1, false);\n            break;\n        case 'goBackToBook':\n        /* Change the preferred train chosen already */\n            tabObj.enableTab(1, true);\n            tabObj.select(1);\n            tabObj.enableTab(2, false);\n            break;\n        case 'goBackDetails':\n        /* Update passenger detail before confirming the payment */\n            tabObj.enableTab(2, true);\n            tabObj.select(2);\n            tabObj.enableTab(3, false);\n            break;\n    }\n}\nfunction filterTrains(args: any): void {\n    /* Generating trains based on source and destination chosen */\n    let result: Object[] = [];\n    let fromCity: string = startPoint.text;\n    let toCity: string = endPoint.text;\n    let count: number = Math.floor((Math.random() * 3) + 2);\n    for (let i: number = 0; i < count; i++) {\n        let details : any = [];\n        details.TrainNo = Math.floor((Math.random() * 20) + 19000);\n        details.Name = 'Train ' + i;\n        details.Departure = fromCity;\n        details.Arrival = toCity;\n        details.Availability = Math.floor((Math.random() * 20) + 20);\n        result.push(details);\n    }\n    availTrainGrid.dataSource = result;\n}\nfunction finalizeDetails(args: any): void {\n    /* Get the passenger details and update table with name and other details for confirmation */\n    let reserved: Object[] = [];\n    let passCount: any = 0;\n    for (let i: number = 1; i <= 3; i++) {\n        let name: any = document.getElementById('pass_name' + i);\n        let berthSelected: any = document.getElementById('pass_berth' + i);\n        let gender: any = document.getElementById('pass_gender' + i);\n        if (name.value !== '') {\n            let details: any = [];\n            let berth: string = berthSelected.value;\n            details.TrainNo = selectedTrain.TrainNo.toString();\n            details.PassName = name.value;\n            details.Gender = gender.value;\n            details.Berth = (berth === '') ? 'Any' : berth;\n            reserved.push(details);\n            passCount++;\n        }\n        let calcFare: any = 0;\n        for (let i: number = 0; i < cities; i++) {\n            if (startPoint.value === cities[i].name) {\n                calcFare = calcFare + cities[i].fare;\n            }\n            if (endPoint.value === cities[i].name) {\n                calcFare = calcFare + cities[i].fare;\n            }\n        }\n        let displayAmt : any = document.getElementById('amount');\n        if (ticketType.value === 'Economy Class') {\n            displayAmt.innerText = 'Total payable amount: $' + passCount * (300 + calcFare);\n        } else if (ticketType.value === 'Business Class') {\n            displayAmt.innerText = 'Total payable amount: $' + passCount * (500 + calcFare);\n        } else if (ticketType.value === 'Common Class') {\n            displayAmt.innerText = 'Total payable amount: $' + passCount * (150 + calcFare);\n        }\n    }\n    ticketDetailGrid.dataSource = reserved;\n}\nfunction trainSelected(args: RowSelectEventArgs): void {\n    selectedTrain = args.data;\n}\n\n\n    \n    renderComponents();\n\n// tslint:enable:max-line-length\n"}